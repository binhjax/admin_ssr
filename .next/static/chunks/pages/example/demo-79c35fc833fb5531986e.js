_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{"+Klt":function(e,t,a){"use strict";a.r(t);a("mN36");var n,r=a("N9UN"),o=a.n(r),c=(a("zmYW"),a("DtFj")),i=a.n(c),l=(a("CbT5"),a("RWbP")),s=a.n(l),u=(a("hr7U"),a("9xET")),d=a.n(u),p=(a("MaXC"),a("4IMT")),b=a.n(p),f=(a("fv9D"),a("ZPTe")),m=a.n(f),h=(a("cUip"),a("iJl9")),O=a.n(h),y=(a("fwXI"),a("CC+v")),j=a.n(y),w=a("H+61"),g=a("UlJF"),v=a("+Css"),C=a("7LId"),k=a("VIvw"),D=a("iHvq"),S=a("cpVT"),R=a("q1tI"),F=a.n(R),I=a("2m8j"),P=a("WsrF"),x=a("XZXw"),T=a("rZaG"),E=a("+n12"),N=(a("7kJ1"),a("qPIi")),K=a.n(N),_=a("HALo"),L=(a("XlDN"),F.a.createElement);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(D.a)(e);if(t){var r=Object(D.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(k.a)(this,a)}}var q,H=P.a.create()(n=function(e){Object(C.a)(a,e);var t=X(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(S.a)(Object(v.a)(e),"onOKClick",(function(){var t=e.props,a=t.form,n=t.onSubmit;a.validateFieldsAndScroll((function(e,t){if(!e){var a=A({},t);a.status=parseInt(a.status,10),n(a)}}))})),Object(S.a)(Object(v.a)(e),"dispatch",(function(t){(0,e.props.dispatch)(t)})),e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onCancel,a=e.demo,n=a.formTitle,r=a.formVisible,o=a.formData,c=a.submitting,i=e.form.getFieldDecorator,l={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}};return L(j.a,{title:n,width:600,visible:r,maskClosable:!1,confirmLoading:c,destroyOnClose:!0,onOk:this.onOKClick,onCancel:t,style:{top:20},bodyStyle:{maxHeight:"calc( 100vh - 158px )",overflowY:"auto"}},L(P.a,null,L(P.a.Item,Object(_.a)({},l,{label:"\u7f16\u53f7"}),i("code",{initialValue:o.code,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7f16\u53f7"}]})(L(O.a,{placeholder:"\u8bf7\u8f93\u5165\u7f16\u53f7"}))),L(P.a.Item,Object(_.a)({},l,{label:"\u540d\u79f0"}),i("name",{initialValue:o.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"}]})(L(O.a,{placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0"}))),L(P.a.Item,Object(_.a)({},l,{label:"\u5907\u6ce8"}),i("memo",{initialValue:o.memo})(L(O.a.TextArea,{rows:2,placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8"}))),L(P.a.Item,Object(_.a)({},l,{label:"\u72b6\u6001"}),i("status",{initialValue:o.status?o.status.toString():"1"})(L(K.a.Group,null,L(K.a,{value:"1"},"\u6b63\u5e38"),L(K.a,{value:"2"},"\u505c\u7528"))))))}}]),a}(R.PureComponent))||n,J=Object(I.a)((function(e){return{demo:e.demo}}))(H),Y=a("F9aL"),z=a.n(Y),B=F.a.createElement;function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(D.a)(e);if(t){var r=Object(D.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(k.a)(this,a)}}var W=P.a.create()(q=function(e){Object(C.a)(a,e);var t=U(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(S.a)(Object(v.a)(e),"state",{selectedRowKeys:[],selectedRows:[]}),Object(S.a)(Object(v.a)(e),"onItemDisableClick",(function(t){e.dispatch({type:"demo/changeStatus",payload:{id:t.id,status:2}})})),Object(S.a)(Object(v.a)(e),"onItemEnableClick",(function(t){e.dispatch({type:"demo/changeStatus",payload:{id:t.id,status:1}})})),Object(S.a)(Object(v.a)(e),"onItemEditClick",(function(t){e.dispatch({type:"demo/loadForm",payload:{type:"E",id:t.id}})})),Object(S.a)(Object(v.a)(e),"onAddClick",(function(){e.dispatch({type:"demo/loadForm",payload:{type:"A"}})})),Object(S.a)(Object(v.a)(e),"clearSelectRows",(function(){0!==e.state.selectedRowKeys.length&&e.setState({selectedRowKeys:[],selectedRows:[]})})),Object(S.a)(Object(v.a)(e),"onItemDelClick",(function(t){j.a.confirm({title:"Confirm to delete [Basic sample data:".concat(t.name,"\u3011\uff1f"),okText:"Confirm",okType:"danger",cancelText:"Cancel",onOk:e.onDelOKClick.bind(Object(v.a)(e),t.id)})})),Object(S.a)(Object(v.a)(e),"handleTableSelectRow",(function(t,a){var n=[],r=[];a&&(n.push(t.id),r.push(t)),e.setState({selectedRowKeys:n,selectedRows:r})})),Object(S.a)(Object(v.a)(e),"onTableChange",(function(t){e.dispatch({type:"demo/fetch",pagination:{current:t.current,pageSize:t.pageSize}}),e.clearSelectRows()})),Object(S.a)(Object(v.a)(e),"onResetFormClick",(function(){e.props.form.resetFields(),e.dispatch({type:"demo/fetch",search:{},pagination:{}})})),Object(S.a)(Object(v.a)(e),"onSearchFormSubmit",(function(t){t&&t.preventDefault(),e.props.form.validateFields({force:!0},(function(t,a){t||(e.dispatch({type:"demo/fetch",search:a,pagination:{}}),e.clearSelectRows())}))})),Object(S.a)(Object(v.a)(e),"onDataFormSubmit",(function(t){e.dispatch({type:"demo/submit",payload:t}),e.clearSelectRows()})),Object(S.a)(Object(v.a)(e),"onDataFormCancel",(function(){e.dispatch({type:"demo/changeFormVisible",payload:!1})})),Object(S.a)(Object(v.a)(e),"dispatch",(function(t){(0,e.props.dispatch)(t)})),e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.dispatch({type:"demo/fetch",search:{},pagination:{}})}},{key:"onDelOKClick",value:function(e){this.dispatch({type:"demo/del",payload:{id:e}}),this.clearSelectRows()}},{key:"renderDataForm",value:function(){return B(J,{onCancel:this.onDataFormCancel,onSubmit:this.onDataFormSubmit})}},{key:"renderSearchForm",value:function(){var e=this.props.form.getFieldDecorator;return B(P.a,{onSubmit:this.onSearchFormSubmit},B(d.a,{gutter:16},B(m.a,{span:8},B(P.a.Item,null,e("queryValue")(B(O.a,{placeholder:"\u8bf7\u8f93\u5165\u9700\u8981\u67e5\u8be2\u7684\u5185\u5bb9"})))),B(m.a,{span:8},B("div",{style:{overflow:"hidden",paddingTop:4}},B(b.a,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),B(b.a,{style:{marginLeft:8},onClick:this.onResetFormClick},"\u91cd\u7f6e")))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.demo.data,r=n.list,c=n.pagination,l=this.state,u=l.selectedRows,d=l.selectedRowKeys,p=[{title:"Code",dataIndex:"code"},{title:"Name",dataIndex:"name"},{title:"Remarks",dataIndex:"memo"},{title:"Status",dataIndex:"status",render:function(e){return B(s.a,1===e?{status:"success",text:"Enable"}:{status:"error",text:"Deactivate"})}},{title:"Created Time",dataIndex:"created_at",render:function(e){return B("span",null,Object(E.a)(e,"YYYY-MM-DD HH:mm"))}}],b=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return B("span",null,"Total ",e," pages")}},c);return B(x.a,{title:"Basic example",breadcrumbList:[{title:"Demo use case"},{title:"Basic example",href:"/example/demo"}]},B(o.a,{bordered:!1},B("div",{className:z.a.tableList},B("div",{className:z.a.tableListForm},this.renderSearchForm()),B("div",{className:z.a.tableListOperator},B(T.a,{code:"add",type:"primary",onClick:function(){return e.onAddClick()}},"New"),1===u.length&&[B(T.a,{key:"edit",code:"edit",onClick:function(){return e.onItemEditClick(u[0])}},"Edit"),B(T.a,{key:"del",code:"del",type:"danger",onClick:function(){return e.onItemDelClick(u[0])}},"Delete"),2===u[0].status&&B(T.a,{key:"enable",code:"enable",onClick:function(){return e.onItemEnableClick(u[0])}},"Enable"),1===u[0].status&&B(T.a,{key:"disable",code:"disable",type:"danger",onClick:function(){return e.onItemDisableClick(u[0])}},"Disable")]),B("div",null,B(i.a,{rowSelection:{selectedRowKeys:d,onSelect:this.handleTableSelectRow},loading:a,rowKey:function(e){return e.id},dataSource:r,columns:p,pagination:b,onChange:this.onTableChange,size:"small"})))),this.renderDataForm())}}]),a}(R.PureComponent))||q;t.default=Object(I.a)((function(e){return{loading:e.loading.models.demo,demo:e.demo}}))(W)},"u/Ba":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/demo",function(){return a("+Klt")}])}},[["u/Ba",0,2,6,1,3,4,5,8,7,10,11,12,14,13,15,16,18,17,19,20,21,9]]]);