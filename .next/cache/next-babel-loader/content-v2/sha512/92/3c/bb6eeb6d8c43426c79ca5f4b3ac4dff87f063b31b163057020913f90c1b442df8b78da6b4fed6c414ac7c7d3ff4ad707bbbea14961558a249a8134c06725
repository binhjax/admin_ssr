{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport \"antd/lib/typography/style\";\nimport _Typography from \"antd/lib/typography\";\n\nvar _jsxFileName = \"/Users/nguyenthanhbinh/Work/vnshop/admin/src/pages/dashboard/index.js\",\n    _this = this;\n\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport WithDva from '../../utils/store';\nimport moment from 'moment';\nimport PageHeaderLayout from '../../layouts/PageHeaderLayout';\nimport styles from './home.less';\n\nvar CodePreview = function CodePreview(_ref) {\n  var children = _ref.children;\n  return __jsx(\"pre\", {\n    className: styles.pre,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 3\n    }\n  }, __jsx(\"code\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }\n  }, __jsx(_Typography.Text, {\n    copyable: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }\n  }, children)));\n};\n\n_c = CodePreview;\n\nvar Home = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Home, _PureComponent);\n\n  var _super = _createSuper(Home);\n\n  function Home() {\n    var _this2;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this2), \"state\", {\n      currentTime: moment().format('HH:mm:ss')\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"getHeaderContent\", function () {\n      var user = _this2.props.global.user;\n      var roleNames = user.role_names;\n      var text = [];\n\n      if (roleNames && roleNames.length > 0) {\n        text.push(__jsx(\"span\", {\n          key: \"role\",\n          style: {\n            marginRight: 20\n          },\n          __self: _assertThisInitialized(_this2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 9\n          }\n        }, \"\\u6240\\u5C5E\\u89D2\\u8272\\uFF1A\".concat(roleNames.join('/'))));\n      }\n\n      if (text.length > 0) {\n        return text;\n      }\n\n      return null;\n    });\n\n    return _this2;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      this.interval = setInterval(function () {\n        _this3.setState({\n          currentTime: moment().format('HH:mm:ss')\n        });\n      }, 1000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var user = this.props.global.user;\n      var currentTime = this.state.currentTime;\n      var breadcrumbList = [{\n        title: 'Homepage'\n      }];\n      return __jsx(PageHeaderLayout, {\n        title: \"Hello\\uFF0C\".concat(user.real_name, \"\\uFF0CI wish you happy everyday\\uFF01\"),\n        breadcrumbList: breadcrumbList,\n        content: this.getHeaderContent(),\n        action: __jsx(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }\n        }, \"Current Time\\uFF1A\", currentTime),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }\n      }, __jsx(_Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(props) {\n        var pathname, query, isServer, store;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // first time run in server side\n                // other times run in client side ( client side init with default props\n                // console.log('get init props', props);\n                pathname = props.pathname, query = props.query, isServer = props.isServer, store = props.store; // dispatch effects to fetch data here\n\n                _context.next = 3;\n                return props.store.dispatch({\n                  type: 'global/init'\n                });\n\n              case 3:\n                return _context.abrupt(\"return\", {\n                  // dont use store as property name, it will confilct with initial store\n                  pathname: pathname,\n                  query: query,\n                  isServer: isServer,\n                  dvaStore: store\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Home;\n}(PureComponent);\n\nexport default WithDva(function (state) {\n  return {\n    global: state.global\n  };\n})(Home);\n\nvar _c;\n\n$RefreshReg$(_c, \"CodePreview\");","map":{"version":3,"sources":["/Users/nguyenthanhbinh/Work/vnshop/admin/src/pages/dashboard/index.js"],"names":["React","PureComponent","WithDva","moment","PageHeaderLayout","styles","CodePreview","children","pre","Home","currentTime","format","user","props","global","roleNames","role_names","text","length","push","marginRight","join","interval","setInterval","setState","clearInterval","state","breadcrumbList","title","real_name","getHeaderContent","pathname","query","isServer","store","dispatch","type","dvaStore"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport WithDva from '../../utils/store';\r\n\r\nimport moment from 'moment';\r\nimport { Typography, Card, Alert } from 'antd';\r\nimport PageHeaderLayout from '../../layouts/PageHeaderLayout';\r\nimport styles from './home.less';\r\n\r\nconst CodePreview = ({ children }) => (\r\n  <pre className={styles.pre}>\r\n    <code>\r\n      <Typography.Text copyable>{children}</Typography.Text>\r\n    </code>\r\n  </pre>\r\n);\r\n\r\nclass Home extends PureComponent {\r\n\r\n  static async getInitialProps(props) {\r\n    // first time run in server side\r\n    // other times run in client side ( client side init with default props\r\n    // console.log('get init props', props);\r\n    const {\r\n      pathname, query, isServer, store,\r\n    } = props;\r\n    // dispatch effects to fetch data here\r\n    await props.store.dispatch({ type: 'global/init' });\r\n    return {\r\n      // dont use store as property name, it will confilct with initial store\r\n      pathname, query, isServer, dvaStore: store\r\n    };\r\n  }\r\n\r\n  state = {\r\n    currentTime: moment().format('HH:mm:ss'),\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.interval = setInterval(() => {\r\n      this.setState({ currentTime: moment().format('HH:mm:ss') });\r\n    }, 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  getHeaderContent = () => {\r\n\r\n\r\n    const {\r\n      global: { user },\r\n    } = this.props;\r\n\r\n    const { role_names: roleNames } = user;\r\n\r\n    const text = [];\r\n    if (roleNames && roleNames.length > 0) {\r\n      text.push(\r\n        <span key=\"role\" style={{ marginRight: 20 }}>{`所属角色：${roleNames.join('/')}`}</span>\r\n      );\r\n    }\r\n\r\n    if (text.length > 0) {\r\n      return text;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      global: { user },\r\n    } = this.props;\r\n\r\n    const { currentTime } = this.state;\r\n\r\n    const breadcrumbList = [{ title: 'Homepage' }];\r\n\r\n    return (\r\n      <PageHeaderLayout\r\n        title={`Hello，${user.real_name}，I wish you happy everyday！`}\r\n        breadcrumbList={breadcrumbList}\r\n        content={this.getHeaderContent()}\r\n        action={<span>Current Time：{currentTime}</span>}\r\n      >\r\n        <Card>\r\n        </Card>\r\n      </PageHeaderLayout>\r\n    );\r\n  }\r\n}\r\nexport default WithDva((state) => { return { global: state.global }; })(Home);\r\n"]},"metadata":{},"sourceType":"module"}