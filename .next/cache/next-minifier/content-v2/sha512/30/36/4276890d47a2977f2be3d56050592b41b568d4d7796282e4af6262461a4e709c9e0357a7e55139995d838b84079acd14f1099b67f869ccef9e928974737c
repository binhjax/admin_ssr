{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[34],{\"T5j+\":function(t,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/restaurant\",function(){return r(\"jgmA\")}])},jgmA:function(t,n,r){\"use strict\";r.r(n);var e=r(\"vJKn\"),a=r.n(e),u=r(\"rg98\"),c=r(\"q1tI\"),o=r.n(c),s=r(\"vDqi\"),i=r.n(s),l=r(\"2m8j\"),p=o.a.createElement,f=function(t){Object(c.useEffect)((function(){var n;return console.log(\"Restaurant: useEffect \",t),console.log(\"Dispatch action: restaurant/fetch \"),n={type:\"restaurant/fetch\",search:{},pagination:{}},(0,t.dispatch)(n),function(){}}),[]);var n=t.error;if(n)return p(\"div\",null,\"An error occured: \",n.message);var r=t.restaurant.data,e=r.list;r.pagination;console.log(\"LIST = \",e,typeof e);var a=Object.values(e);return p(\"ul\",null,a.map((function(t){return p(\"li\",{key:t.id},t.name)})))};f.getInitialProps=function(){var t=Object(u.a)(a.a.mark((function t(n){var r,e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(\"Server init => Pass to client \"),t.prev=1,t.next=4,i.a.get(\"http://localhost:1337/restaurants\");case 4:return r=t.sent,e=r.data,t.abrupt(\"return\",{restaurants:e});case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt(\"return\",{error:t.t0});case 12:case\"end\":return t.stop()}}),t,null,[[1,9]])})));return function(n){return t.apply(this,arguments)}}(),n.default=Object(l.a)((function(t){return{restaurant:t.restaurant}}))(f)}},[[\"T5j+\",0,2,5,1,3,4,6]]]);","map":{"version":3,"sources":["static/chunks/pages/restaurant-cf5fe8499ad718d37dbd.js"],"names":["_N_E","window","push","T5j+","module","exports","__webpack_require__","__NEXT_P","jgmA","__webpack_exports__","r","_Volumes_ExternalData_Work_vnshop_admin_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Volumes_ExternalData_Work_vnshop_admin_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Volumes_ExternalData_Work_vnshop_admin_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","axios__WEBPACK_IMPORTED_MODULE_3__","axios__WEBPACK_IMPORTED_MODULE_3___default","_utils_store__WEBPACK_IMPORTED_MODULE_4__","__jsx","a","createElement","Restaurant","props","Object","action","console","log","type","search","pagination","dispatch","error","message","_props$restaurant$dat","restaurant","data","list","restaurants","values","map","key","id","name","getInitialProps","_ref","mark","_callee","ctx","res","wrap","_context","prev","next","get","sent","abrupt","t0","stop","_x","apply","this","arguments","state"],"mappings":"AAAAA,MACCC,OAAyB,iBAAIA,OAAyB,kBAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAErEC,OACA,SAAUC,EAAQC,EAASC,IAG1BL,OAAOM,SAAWN,OAAOM,UAAY,IAAIL,KAAK,CAC7C,cACA,WACE,OAAOI,EAAoB,YAO/BE,KACA,SAAUJ,EAAQK,EAAqBH,GAE7C,aACAA,EAAoBI,EAAED,GACD,IAAIE,EAAgIL,EAAoB,QACpJM,EAAqJN,EAAoBO,EAAEF,GAC3KG,EAAiJR,EAAoB,QACrKS,EAAqCT,EAAoB,QACzDU,EAA0DV,EAAoBO,EAAEE,GAChFE,EAAqCX,EAAoB,QACzDY,EAA0DZ,EAAoBO,EAAEI,GAChFE,EAA4Cb,EAAoB,QAGrFc,EAAQJ,EAA2CK,EAAEC,cAKrDC,EAAa,SAAoBC,GAMnCC,OAAOV,EAA8C,UAArDU,EAAwD,WALzC,IAAkBC,EAe/B,OARAC,QAAQC,IAAI,yBAA0BJ,GAEtCG,QAAQC,IAAI,sCATmBF,EAUtB,CACPG,KAAM,mBACNC,OAAQ,GACRC,WAAY,KAXdC,EADeR,EAAMQ,UACZN,GAaF,eACN,IACH,IAAIO,EAAQT,EAAMS,MAElB,GAAIA,EACF,OAAOb,EAAM,MAAO,KAAM,qBAAsBa,EAAMC,SAGxD,IAAIC,EAAwBX,EAAMY,WAAWC,KACzCC,EAAOH,EAAsBG,KAChBH,EAAsBJ,WACvCJ,QAAQC,IAAI,UAAWU,SAAaA,GACpC,IAAIC,EAAcd,OAAOe,OAAOF,GAChC,OAAOlB,EAAM,KAAM,KAAMmB,EAAYE,KAAI,SAAUL,GACjD,OAAOhB,EAAM,KAAM,CACjBsB,IAAKN,EAAWO,IACfP,EAAWQ,WAIlBrB,EAAWsB,gBAA+B,WACxC,IAAIC,EAAOrB,OAAOX,EAAgK,EAAvKW,CAAwLb,EAAsIS,EAAE0B,MAAK,SAASC,EAAQC,GAC/V,IAAIC,EAAKX,EACT,OAAO3B,EAAsIS,EAAE8B,MAAK,SAAkBC,GACpK,OACE,OAAQA,EAASC,KAAOD,EAASE,MAC/B,KAAK,EAIH,OAHA3B,QAAQC,IAAI,kCACZwB,EAASC,KAAO,EAChBD,EAASE,KAAO,EACTpC,EAA2CG,EAAEkC,IAAI,qCAE1D,KAAK,EAGH,OAFAL,EAAME,EAASI,KACfjB,EAAcW,EAAIb,KACXe,EAASK,OAAO,SAAU,CAC/BlB,YAAaA,IAGjB,KAAK,EAGH,OAFAa,EAASC,KAAO,EAChBD,EAASM,GAAKN,EAAgB,MAAE,GACzBA,EAASK,OAAO,SAAU,CAC/BxB,MAAOmB,EAASM,KAGpB,KAAK,GACL,IAAK,MACH,OAAON,EAASO,UAGrBX,EAAS,KAAM,CAAC,CAAC,EAAG,SAGzB,OAAO,SAAUY,GACf,OAAOd,EAAKe,MAAMC,KAAMC,YAnCc,GAwCbtD,EAA6B,QAAKgB,OAAON,EAA2D,EAAlEM,EAAqE,SAAUuC,GAC5I,MAAO,CACL5B,WAAY4B,EAAM5B,cAFwC,CAI3Db,KAID,CAAC,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE"},"name":"static/chunks/pages/restaurant-cf5fe8499ad718d37dbd.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[34],{\n\n/***/ \"T5j+\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/restaurant\",\n        function () {\n          return __webpack_require__(\"jgmA\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"jgmA\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Volumes_ExternalData_Work_vnshop_admin_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Volumes_ExternalData_Work_vnshop_admin_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Volumes_ExternalData_Work_vnshop_admin_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Volumes_ExternalData_Work_vnshop_admin_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"rg98\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"vDqi\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _utils_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"2m8j\");\n\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement;\n\n\n\n\nvar Restaurant = function Restaurant(props) {\n  var dispatch = function dispatch(action) {\n    var dispatch = props.dispatch;\n    dispatch(action);\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    //Trigger to load data when component is mounted\n    console.log('Restaurant: useEffect ', props); // const { dispatch } = props;\n\n    console.log('Dispatch action: restaurant/fetch ');\n    dispatch({\n      type: 'restaurant/fetch',\n      search: {},\n      pagination: {}\n    });\n    return function () {};\n  }, []);\n  var error = props.error;\n\n  if (error) {\n    return __jsx(\"div\", null, \"An error occured: \", error.message);\n  }\n\n  var _props$restaurant$dat = props.restaurant.data,\n      list = _props$restaurant$dat.list,\n      pagination = _props$restaurant$dat.pagination;\n  console.log('LIST = ', list, typeof list);\n  var restaurants = Object.values(list);\n  return __jsx(\"ul\", null, restaurants.map(function (restaurant) {\n    return __jsx(\"li\", {\n      key: restaurant.id\n    }, restaurant.name);\n  }));\n};\n\nRestaurant.getInitialProps = /*#__PURE__*/function () {\n  var _ref = Object(_Volumes_ExternalData_Work_vnshop_admin_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Volumes_ExternalData_Work_vnshop_admin_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(ctx) {\n    var res, restaurants;\n    return _Volumes_ExternalData_Work_vnshop_admin_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('Server init => Pass to client ');\n            _context.prev = 1;\n            _context.next = 4;\n            return axios__WEBPACK_IMPORTED_MODULE_3___default.a.get('http://localhost:1337/restaurants');\n\n          case 4:\n            res = _context.sent;\n            restaurants = res.data;\n            return _context.abrupt(\"return\", {\n              restaurants: restaurants\n            });\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](1);\n            return _context.abrupt(\"return\", {\n              error: _context.t0\n            });\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 9]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}(); // export default Restaurant\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_utils_store__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(function (state) {\n  return {\n    restaurant: state.restaurant\n  };\n})(Restaurant));\n\n/***/ })\n\n},[[\"T5j+\",0,2,5,1,3,4,6]]]);","inputSourceMap":{"version":3,"sources":["/Volumes/ExternalData/Work/vnshop/admin/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Frestaurant&absolutePagePath=private-next-pages%2Frestaurant%2Findex.js!","/Volumes/ExternalData/Work/vnshop/admin/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Volumes/ExternalData/Work/vnshop/admin/src/pages/restaurant/index.js"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAwC;AACjE;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACe;AACnJ,YAAY,4CAAK;AACkC;AACzB;AACc;;AAExC;AACA;AACA;AACA;AACA;;AAEA,EAAE,uDAAS;AACX;AACA,iDAAiD,WAAW,WAAW;;AAEvE;AACA;AACA;AACA,gBAAgB;AAChB;AACA,KAAK;AACL;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA,aAAa,yKAAiB,eAAe,uIAAmB;AAChE;AACA,WAAW,uIAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,4CAAK;;AAExB;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC,GAAG;;;AAGW,mIAAO;AACtB;AACA;AACA;AACA,CAAC,aAAa,E","file":"x","sourcesContent":["\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/restaurant\",\n        function () {\n          return require(\"private-next-pages/restaurant/index.js\");\n        }\n      ]);\n    ","import _regeneratorRuntime from \"/Volumes/ExternalData/Work/vnshop/admin/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Volumes/ExternalData/Work/vnshop/admin/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport WithDva from '../../utils/store';\n\nvar Restaurant = function Restaurant(props) {\n  var dispatch = function dispatch(action) {\n    var dispatch = props.dispatch;\n    dispatch(action);\n  };\n\n  useEffect(function () {\n    //Trigger to load data when component is mounted\n    console.log('Restaurant: useEffect ', props); // const { dispatch } = props;\n\n    console.log('Dispatch action: restaurant/fetch ');\n    dispatch({\n      type: 'restaurant/fetch',\n      search: {},\n      pagination: {}\n    });\n    return function () {};\n  }, []);\n  var error = props.error;\n\n  if (error) {\n    return __jsx(\"div\", null, \"An error occured: \", error.message);\n  }\n\n  var _props$restaurant$dat = props.restaurant.data,\n      list = _props$restaurant$dat.list,\n      pagination = _props$restaurant$dat.pagination;\n  console.log('LIST = ', list, typeof list);\n  var restaurants = Object.values(list);\n  return __jsx(\"ul\", null, restaurants.map(function (restaurant) {\n    return __jsx(\"li\", {\n      key: restaurant.id\n    }, restaurant.name);\n  }));\n};\n\nRestaurant.getInitialProps = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    var res, restaurants;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('Server init => Pass to client ');\n            _context.prev = 1;\n            _context.next = 4;\n            return axios.get('http://localhost:1337/restaurants');\n\n          case 4:\n            res = _context.sent;\n            restaurants = res.data;\n            return _context.abrupt(\"return\", {\n              restaurants: restaurants\n            });\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](1);\n            return _context.abrupt(\"return\", {\n              error: _context.t0\n            });\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 9]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}(); // export default Restaurant\n\n\nexport default WithDva(function (state) {\n  return {\n    restaurant: state.restaurant\n  };\n})(Restaurant);"]}}